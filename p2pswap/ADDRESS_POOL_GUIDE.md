# 地址池使用指南

## 概述

地址池系统用于管理 500-1000 个低风险地址，这些地址会在策略生成时自动用于正常交易的源地址和目标地址。

## 工作流程

### 1. 配置地址池（500-1000个地址）

在 Designer 页面中，使用"低风险地址池管理"组件：

- **添加地址**：逐个添加或批量导入
- **批量导入**：支持每行一个地址，或 `地址,标签` 格式
- **导出/导入**：支持 JSON 格式的导入导出
- **统计信息**：查看地址池状态和使用情况

**建议配置：**
- 至少 500 个地址（推荐 500-1000 个）
- 确保地址有足够的余额用于交易
- 定期更新地址池，保持活跃地址数量

### 2. 输入高风险地址和金额

在"高风险地址列表"中：

- **输入格式**：地址 + 金额列表（逗号分隔）
- **示例**：
  ```
  地址：0x1234...
  金额列表：1000,2000,1500
  ```
  表示该地址需要处理 3 笔交易，金额分别为 1000、2000、1500 USDT

### 3. 系统自动生成策略

系统会根据以下规则自动生成策略：

#### 高风险交易
- **源地址**：使用用户输入的高风险地址
- **目标地址**：从地址池随机选择
- **金额**：使用用户输入的金额
- **时间**：第1天内随机分布

#### 高风险提取
- **源地址**：从地址池选择（存入时选择的目标地址）
- **目标地址**：从地址池随机选择（每次提取使用不同地址）
- **金额**：自动拆分，每笔与存入金额不一致（差异 > 0.001）
- **时间**：存入后 > 24小时（默认 > 48小时）

#### 正常交易
- **源地址**：从地址池随机选择
- **目标地址**：从地址池随机选择
- **金额**：自动计算，确保低风险U总量是高风险U的5-10倍
- **时间**：3天内随机分布
- **数量**：自动计算，确保正常交易占比 > 80%

## 策略生成示例

### 输入
```
高风险地址1：1000,2000 USDT
高风险地址2：1500 USDT
```

### 系统生成

**高风险存入交易：**
- 地址1存入 1000 USDT → 地址池地址A（目标）
- 地址1存入 2000 USDT → 地址池地址B（目标）
- 地址2存入 1500 USDT → 地址池地址C（目标）

**高风险提取交易：**
- 地址池地址A提取 400 USDT → 地址池地址D（金额不匹配，时间 > 48小时）
- 地址池地址A提取 350 USDT → 地址池地址E
- 地址池地址A提取 250 USDT → 地址池地址F
- （总计 1000 USDT，与存入金额一致）

**正常交易：**
- 地址池地址X存入 5000 USDT → 地址池地址Y
- 地址池地址Z提取 3000 USDT → 地址池地址W
- ...（自动生成足够数量的正常交易）

## 地址池管理功能

### 添加地址
1. 在"低风险地址池管理"中输入地址
2. 可选：添加标签（便于识别）
3. 点击"添加地址"

### 批量导入
1. 点击"批量导入"按钮
2. 输入地址列表（每行一个）：
   ```
   0x1234...
   0x5678...,标签1
   0x9abc...
   ```
3. 系统自动解析并导入

### 导出地址池
1. 点击"导出"按钮
2. 下载 JSON 文件
3. 可用于备份或迁移

### 导入地址池
1. 点击"导入"按钮
2. 选择之前导出的 JSON 文件
3. 系统自动加载地址

## 地址选择算法

系统使用负载均衡算法选择地址：

1. **优先选择使用次数少的地址**（负载均衡）
2. **从前 20% 的地址中随机选择**（避免过度使用某些地址）
3. **自动更新使用统计**（记录使用次数和最后使用时间）

这样可以确保：
- 地址使用均匀分布
- 避免某些地址过度使用
- 保持地址池的活跃度

## 注意事项

1. **地址余额**：确保地址池中的地址有足够的余额用于交易
2. **地址数量**：建议至少 500 个地址，推荐 500-1000 个
3. **地址安全**：地址池中的地址应该是低风险地址，不要包含高风险地址
4. **定期更新**：定期检查地址池状态，移除不活跃的地址，添加新地址

## 使用场景

### 场景1：处理 10,000 USDT 高风险资金

**输入：**
- 高风险地址：5个
- 每个地址：2,000 USDT

**系统自动：**
- 从地址池选择地址用于高风险交易的目标地址
- 从地址池选择地址用于正常交易的源地址和目标地址
- 生成足够数量的正常交易（确保占比 > 80%）
- 确保低风险U总量是高风险U的5-10倍

**结果：**
- 高风险交易：使用用户输入的地址
- 正常交易：全部使用地址池中的地址
- 所有地址选择都是自动的，无需手动配置
